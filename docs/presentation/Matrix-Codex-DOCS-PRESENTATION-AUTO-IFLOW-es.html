<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Auto‚ÄëiFlow ‚Äî Deep Dive (Matrix)</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=Space+Mono:wght@400;500;600&display=swap"
        rel="stylesheet" />
    <style>
        :root {
            --black: #000000;
            --near-black: #0A0A0A;
            --dark-gray: #1A1A1A;
            --medium-gray: #2A2A2A;
            --matrix: #00FF6A;
            --matrix-soft: #00E65F;
            --matrix-glow: #66FFB2;
            --text: #FFFFFF;
            --text-secondary: #999999;
            --text-muted: #666666;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            background: var(--black);
            color: var(--text);
            font-family: 'Space Grotesk', sans-serif;
        }

        .page {
            width: 100%;
        }

        .container {
            width: min(1100px, 92vw);
            margin: 0 auto;
            padding: 72px 0;
        }

        h1 {
            font-size: 42px;
            color: var(--matrix);
            margin-bottom: 16px;
        }

        h2 {
            font-size: 28px;
            color: var(--matrix);
            margin: 28px 0 10px;
        }

        h3 {
            font-size: 20px;
            margin: 18px 0 8px;
        }

        h4 {
            font-size: 17px;
            margin: 16px 0 6px;
            color: var(--matrix-soft);
        }

        p {
            font-size: 16px;
            line-height: 1.7;
            color: var(--text-secondary);
            margin: 8px 0;
        }

        a {
            color: var(--matrix);
            text-decoration: none;
        }

        a:hover {
            color: var(--matrix-glow);
        }

        strong {
            color: var(--text);
        }

        em {
            color: var(--text-muted);
        }

        ul {
            margin: 10px 0 16px 20px;
            color: var(--text-secondary);
        }

        li {
            margin: 6px 0;
        }

        blockquote {
            border-left: 2px solid var(--matrix);
            padding: 8px 14px;
            margin: 16px 0;
            background: #050505;
            color: var(--text-secondary);
        }

        pre {
            background: #050505;
            border: 1px solid var(--dark-gray);
            padding: 16px;
            border-radius: 8px;
            overflow: auto;
            margin: 12px 0;
        }

        code {
            font-family: 'Space Mono', monospace;
            font-size: 13px;
            color: var(--matrix-glow);
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 12px 0 18px;
            font-size: 14px;
        }

        th,
        td {
            border: 1px solid var(--dark-gray);
            padding: 10px;
            text-align: left;
        }

        th {
            color: var(--matrix);
            background: #050505;
        }

        td {
            color: var(--text-secondary);
        }

        hr {
            border: none;
            border-top: 1px solid var(--dark-gray);
            margin: 24px 0;
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 34px;
            }

            h2 {
                font-size: 24px;
            }

            .container {
                padding: 48px 0;
            }
        }
    </style>
</head>

<body>
    <div class="page">
        <div class="container">
            <h1>Auto-iFlow ‚Äî An√°lisis Completo del Sistema</h1>

            <blockquote><strong>Objetivo:</strong> Convertirte en experto de Auto-iFlow mediante la exploraci√≥n
                detallada de cada componente del sistema</blockquote>

            <p>---</p>

            <h2>üìã Tabla de Contenidos</h2>

            <ul>
                <li><a href="#1-descripcion-general">Qu√© es Auto-iFlow ‚Äî Descripci√≥n general</a></li>
                <li><a href="#2-arquitectura-sistema">Arquitectura del sistema</a></li>
                <li><a href="#3-kanban-workflow">Kanban Workflow ‚Äî Ciclo de vida de las tareas</a></li>
                <li><a href="#4-sandbox-mode">Sandbox Mode ‚Äî Aislamiento de tareas</a></li>
                <li><a href="#5-consilium">Consilium ‚Äî Comit√© de inversi√≥n AI</a></li>
                <li><a href="#6-model-routing">Model Routing ‚Äî Gesti√≥n de modelos</a></li>
                <li><a href="#7-qa-pipeline">QA Pipeline ‚Äî Control de calidad</a></li>
                <li><a href="#8-security-model">Security Model ‚Äî Seguridad</a></li>
                <li><a href="#9-estructura-archivos">Estructura de archivos del proyecto</a></li>
                <li><a href="#10-escenarios-practicos">Escenarios de uso pr√°cticos</a></li>
                <li><a href="#11-analisis-interfaz">An√°lisis de la interfaz</a></li>
            </ul>

            <p>---</p>

            <h2>1.Descripci√≥n General</h2>

            <h3>¬øQu√© es?</h3>

            <p><strong>Auto-iFlow</strong> ‚Äî una aplicaci√≥n macOS para automatizaci√≥n del desarrollo usando agentes AI.
                Es un fork del proyecto <a href="https://github.com/AndyMik90/Auto-Claude">Auto-Claude</a> (licencia
                AGPL-3.0).</p>

            <h3>Idea Clave</h3>

            <p>En lugar de escribir manualmente c√≥digo para cada tarea, t√∫:</p>
            <ul>
                <li><strong>Creas una tarea</strong> en el tablero Kanban (descripci√≥n + contexto)</li>
                <li><strong>El agente AI</strong> autom√°ticamente:</li>
                <li>Crea la especificaci√≥n (`spec.md`)</li>
                <li>Planifica la implementaci√≥n (`implementation_plan.json`)</li>
                <li>Escribe c√≥digo en un entorno aislado (Sandbox)</li>
                <li>Realiza control de calidad autom√°tico (QA)</li>
                <li><strong>T√∫ revisas</strong> el resultado y fusionas a main</li>
            </ul>

            <h3>Tres Funcionalidades Principales</h3>

            <table>
                <thead>
                    <tr>
                        <th>Funcionalidad</th>
                        <th>Descripci√≥n</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Full Cycle Automation</strong></td>
                        <td>Desde la idea hasta c√≥digo listo para producci√≥n</td>
                    </tr>
                    <tr>
                        <td><strong>Sandbox Isolation</strong></td>
                        <td>Cada tarea se ejecuta en un Git worktree separado ‚Äî la rama main est√° protegida</td>
                    </tr>
                    <tr>
                        <td><strong>Consilium (AI Committee)</strong></td>
                        <td>"Comit√© de inversi√≥n" de 3 agentes AI para decisiones complejas</td>
                    </tr>
                </tbody>
            </table>
            <p>---</p>

            <h2>2. Arquitectura del Sistema</h2>

            <h3>Estructura de Alto Nivel</h3>

            <p>Auto-iFlow est√° construido sobre <strong>Electron</strong> y consta de dos procesos:</p>

            <pre><code>
graph TB
    subgraph Main["Main Process (Node.js)"]
        IPC[IPC Handlers]
        TM[Task Manager]
        GIT[Git Operations]
        QA[QA Engine]
    end
    
    subgraph Renderer["Renderer Process (React)"]
        KB[Kanban Board]
        TD[Task Details]
        SET[Settings]
        RM[Roadmap/Ideation]
    end
    
    subgraph External["External Integrations"]
        AI[AI Models&lt;br/&gt;OpenRouter, GLM, Groq]
        MCP[MCP Servers&lt;br/&gt;Context7, Linear, Browser]
        MEM[Graphiti Memory]
    end
    
    Renderer --&gt;|IPC| Main
    Main --&gt;|API Calls| External
</code></pre>

            <h3>Componentes Principales</h3>

            <h4>Main Process (Backend)</h4>

            <p>Ubicaci√≥n: `/Users/kostenchuksergey/Auto-iFlow/apps/frontend/src/main/`</p>

            <table>
                <thead>
                    <tr>
                        <th>Componente</th>
                        <th>Archivos</th>
                        <th>Funci√≥n</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>IPC Handlers</strong></td>
                        <td>`ipc-handlers/task/`</td>
                        <td>Procesamiento de comandos desde la UI (creaci√≥n tareas, start/stop, merge)</td>
                    </tr>
                    <tr>
                        <td><strong>Task Manager</strong></td>
                        <td>`task-manager.ts`</td>
                        <td>Gesti√≥n del ciclo de vida de las tareas</td>
                    </tr>
                    <tr>
                        <td><strong>Git Operations</strong></td>
                        <td>`ipc-handlers/task/worktree-handlers.ts`</td>
                        <td>Trabajo con Git worktrees (Sandbox)</td>
                    </tr>
                    <tr>
                        <td><strong>QA Engine</strong></td>
                        <td>Backend Python en `apps/backend/qa/`</td>
                        <td>Verificaci√≥n autom√°tica de calidad del c√≥digo</td>
                    </tr>
                </tbody>
            </table>
            <h4>Renderer Process (Frontend)</h4>

            <p>Ubicaci√≥n: `/Users/kostenchuksergey/Auto-iFlow/apps/frontend/src/renderer/`</p>

            <table>
                <thead>
                    <tr>
                        <th>Componente</th>
                        <th>Carpeta</th>
                        <th>Funci√≥n</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Kanban Board</strong></td>
                        <td>`components/kanban/`</td>
                        <td>Visualizaci√≥n de tareas (Planning, In-Progress, Review, Done)</td>
                    </tr>
                    <tr>
                        <td><strong>Task Details</strong></td>
                        <td>`components/task-detail/`</td>
                        <td>Visualizaci√≥n de especificaciones, planes, artefactos de tarea</td>
                    </tr>
                    <tr>
                        <td><strong>Settings</strong></td>
                        <td>`components/settings/`</td>
                        <td>Configuraci√≥n de claves API, MCP, perfiles</td>
                    </tr>
                    <tr>
                        <td><strong>Roadmap</strong></td>
                        <td>`components/roadmap/`</td>
                        <td>Generaci√≥n de roadmap.json desde an√°lisis AI del proyecto</td>
                    </tr>
                </tbody>
            </table>
            <h4>Integraciones Externas</h4>

            <table>
                <thead>
                    <tr>
                        <th>Integraci√≥n</th>
                        <th>Prop√≥sito</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>OpenRouter/Groq/GLM</strong></td>
                        <td>API para ejecuci√≥n de solicitudes AI (diferentes modelos para diferentes fases)</td>
                    </tr>
                    <tr>
                        <td><strong>MCP Servers</strong></td>
                        <td>Model Context Protocol ‚Äî contexto extendido (Context7, Linear, Browser)</td>
                    </tr>
                    <tr>
                        <td><strong>Graphiti Memory</strong></td>
                        <td>Memoria a largo plazo del agente AI</td>
                    </tr>
                </tbody>
            </table>
            <p>---</p>

            <h2>3. Kanban Workflow</h2>

            <h3>Ciclo de Vida de las Tareas</h3>

            <p>Cada tarea pasa a trav√©s de las <strong>columnas del tablero Kanban</strong>:</p>

            <pre><code>
graph LR
    A[Planning] --&gt; B[In-Progress]
    B --&gt; C[In-Review]
    C --&gt; D[Project Review]
    D --&gt; E[Done]
    C --&gt; F[Failed]
</code></pre>

            <h3>An√°lisis Detallado de Cada Columna</h3>

            <h4>1. <strong>Planning</strong> (Planificaci√≥n)</h4>

            <p><strong>Qu√© ocurre:</strong></p>
            <ul>
                <li>El usuario crea una tarea (descripci√≥n, contexto, capturas de pantalla)</li>
                <li>La tarea entra en Planning y espera el inicio</li>
            </ul>

            <p><strong>Archivos:</strong></p>
            <ul>
                <li>`.auto-iflow/specs/&lt;task-id&gt;/task_metadata.json` ‚Äî metadatos de la tarea</li>
            </ul>

            <p><strong>Acciones del usuario:</strong></p>
            <ul>
                <li>‚ñ∂Ô∏è <strong>Start Task</strong> ‚Üí la tarea pasa a In-Progress</li>
            </ul>

            <p>---</p>

            <h4>2. <strong>In-Progress</strong> (Ejecuci√≥n)</h4>

            <p><strong>Qu√© ocurre (autom√°ticamente):</strong></p>

            <p>##### Fase 1: Spec Generation (Creaci√≥n de especificaci√≥n)</p>
            <p>El agente AI analiza la descripci√≥n de la tarea y crea:</p>
            <ul>
                <li>`spec.md` ‚Äî especificaci√≥n detallada</li>
                <li>`requirements.json` ‚Äî requisitos estructurados</li>
            </ul>

            <p>##### Fase 2: Planning (Planificaci√≥n de implementaci√≥n)</p>
            <p>La AI crea:</p>
            <ul>
                <li>`implementation_plan.json` ‚Äî plan paso a paso con archivos a modificar</li>
            </ul>

            <p>##### Fase 3: Coding (Escritura de c√≥digo)</p>
            <ul>
                <li><strong>Si Sandbox activado:</strong> creaci√≥n de Git worktree en
                    `.auto-iflow/worktrees/tasks/&lt;task-id&gt;/`</li>
                <li>El agente AI ejecuta el plan, escribe c√≥digo</li>
                <li>Todos los cambios est√°n <strong>aislados</strong> de la rama main</li>
            </ul>

            <p>##### Fase 4: QA (Control de calidad)</p>
            <ul>
                <li>Lanzamiento del backend Python (`apps/backend/qa/`)</li>
                <li>Verificaci√≥n del c√≥digo (calidad, seguridad, tests)</li>
                <li>Generaci√≥n de `qa_report.md`</li>
            </ul>

            <p><strong>Archivos creados:</strong></p>
            <pre><code>
.auto-iflow/specs/&lt;task-id&gt;/
‚îú‚îÄ‚îÄ spec.md
‚îú‚îÄ‚îÄ requirements.json
‚îú‚îÄ‚îÄ implementation_plan.json
‚îú‚îÄ‚îÄ task_metadata.json
‚îî‚îÄ‚îÄ qa_report.md
</code></pre>

            <p><strong>Transici√≥n:</strong> Despu√©s de QA ‚Üí <strong>In-Review</strong></p>

            <p>---</p>

            <h4>3. <strong>In-Review</strong> (Revisi√≥n)</h4>

            <p><strong>Qu√© ocurre:</strong></p>
            <ul>
                <li>El usuario verifica los artefactos (spec, plan, qa_report)</li>
                <li>Si Sandbox: visualizaci√≥n de <strong>Merge Preview</strong> (diff main ‚Üê rama tarea)</li>
            </ul>

            <p><strong>Elementos UI:</strong></p>
            <ul>
                <li>üìÇ <strong>Files</strong> ‚Äî artefactos de la tarea</li>
                <li>üîÄ <strong>Merge Preview</strong> ‚Äî diff de los cambios</li>
                <li>üõ†Ô∏è <strong>Acciones:</strong></li>
                <li>‚úÖ <strong>Approve & Merge</strong> ‚Üí fusi√≥n a main, limpieza sandbox</li>
                <li>üîÅ <strong>Request Changes</strong> ‚Üí retorno a In-Progress</li>
                <li>‚ùå <strong>Reject</strong> ‚Üí Failed</li>
            </ul>

            <p><strong>Escenarios importantes:</strong></p>

            <blockquote>[!WARNING]</blockquote>
            <blockquote><strong>Blocked Merge</strong> ‚Äî si main en sandbox est√° "sucio" (uncommitted changes), la
                fusi√≥n se bloquea.</blockquote>
            <blockquote></blockquote>
            <blockquote><strong>Fix actions</strong> (Stage 22):</blockquote>
            <blockquote>- Auto-commit `.gitignore` si es el √∫nico cambio</blockquote>
            <blockquote>- Men√∫ Fix con botones: commit, stash, refresh preview</blockquote>

            <p>---</p>

            <h4>4. <strong>Project Review</strong> (Revisi√≥n final)</h4>

            <p>Columna opcional para tareas cr√≠ticas (configurada en project settings).</p>

            <p>---</p>

            <h4>5. <strong>Done</strong> (Completado)</h4>

            <p>Tarea completada:</p>
            <ul>
                <li>C√≥digo fusionado a main</li>
                <li>Worktree Sandbox eliminado (si exist√≠a)</li>
                <li>Artefactos guardados en `.auto-iflow/specs/&lt;task-id&gt;/`</li>
            </ul>

            <p>---</p>

            <h4>6. <strong>Failed</strong> (Fallido)</h4>

            <p>Tarea rechazada:</p>
            <ul>
                <li>Worktree Sandbox eliminado</li>
                <li>Artefactos guardados para an√°lisis</li>
            </ul>

            <p>---</p>

            <h2>4. Sandbox Mode</h2>

            <h3>¬øQu√© es?</h3>

            <p><strong>Sandbox Mode</strong> ‚Äî un modo donde cada tarea se ejecuta en un <strong>Git worktree
                    aislado</strong>. Esto protege la rama main contra "roturas" durante el desarrollo.</p>

            <h3>¬øC√≥mo Funciona Git Worktree?</h3>

            <pre><code>
# Git regular (sin Sandbox)
main/
‚îú‚îÄ‚îÄ src/
‚îî‚îÄ‚îÄ .git/

# Con Sandbox (Git Worktree)
main/                          # ‚Üê rama principal (protegida)
‚îú‚îÄ‚îÄ src/
‚îî‚îÄ‚îÄ .git/

.auto-iflow/worktrees/tasks/task-123/  # ‚Üê copia de trabajo separada
‚îú‚îÄ‚îÄ src/
‚îî‚îÄ‚îÄ .git/
</code></pre>

            <p><strong>Ventajas:</strong></p>
            <ul>
                <li>‚úÖ <strong>Main siempre estable</strong> ‚Äî los cambios no la afectan</li>
                <li>‚úÖ <strong>Pruebas seguras</strong> ‚Äî posibilidad de experimentar</li>
                <li>‚úÖ <strong>Rollback f√°cil</strong> ‚Äî simplemente eliminar el worktree</li>
                <li>‚úÖ <strong>Trabajo paralelo</strong> ‚Äî m√∫ltiples tareas simult√°neamente</li>
            </ul>

            <h3>Ciclo de Vida del Sandbox</h3>

            <pre><code>
sequenceDiagram
    participant User
    participant Main
    participant Sandbox

    User-&gt;&gt;Main: Start Task (Sandbox enabled)
    Main-&gt;&gt;Sandbox: Create worktree&lt;br/&gt;.auto-iflow/worktrees/tasks/123
    Sandbox-&gt;&gt;Sandbox: AI writes code (isolated)
    Sandbox-&gt;&gt;Main: Merge Preview (diff)
    User-&gt;&gt;Sandbox: Approve & Merge
    Sandbox-&gt;&gt;Main: Git merge
    Main-&gt;&gt;Sandbox: Delete worktree
</code></pre>

            <h3>Configuraci√≥n</h3>

            <p>Sandbox se activa mediante:</p>

            <p><strong>1. Global settings</strong> (para todos los proyectos):</p>
            <pre><code>
// Settings ‚Üí Sandbox
sandboxTasksEnabled: true
</code></pre>

            <p><strong>2. Environment variable</strong> (reemplazo):</p>
            <pre><code>
export AUTO_IFLOW_SANDBOX_TASKS=true
</code></pre>

            <p><strong>3. Per-task</strong> (al crear la tarea):</p>
            <ul>
                <li>Casilla "Enable Sandbox" en Task Creation Wizard</li>
            </ul>

            <h3>Problemas Conocidos (de TASKS.md)</h3>

            <blockquote>[!CAUTION]</blockquote>
            <blockquote><strong>Stage 22-23:</strong> Sandbox a veces bloquea la fusi√≥n debido a main "sucio"
            </blockquote>
            <blockquote></blockquote>
            <blockquote><strong>Razones:</strong></blockquote>
            <blockquote>- El backend a√±ade a `.gitignore` ‚Üí main se vuelve sucio</blockquote>
            <blockquote>- Despu√©s de fusi√≥n, archivos staged/unstaged permanecen (README, `.auto-iflow-status`)
            </blockquote>
            <blockquote></blockquote>
            <blockquote><strong>Soluci√≥n (implementada):</strong></blockquote>
            <blockquote>- Auto-commit `.gitignore` si es el √∫nico cambio (preview + merge)</blockquote>
            <blockquote>- Auto-commit todos los cambios en sandbox despu√©s de fusi√≥n</blockquote>
            <blockquote>- Men√∫ Fix en la UI con botones de correcci√≥n</blockquote>

            <p>---</p>

            <h2>5. Consilium</h2>

            <h3>¬øQu√© es?</h3>

            <p><strong>Consilium</strong> (del lat√≠n "consejo") ‚Äî un <strong>Comit√© de Inversi√≥n AI</strong> de 3
                agentes que discuten decisiones arquitect√≥nicas complejas antes del inicio del desarrollo.</p>

            <h3>¬øPor qu√© es necesario?</h3>

            <p>Para tareas de <strong>alto riesgo</strong> (breaking changes, arquitectura, migraciones):</p>
            <ul>
                <li>‚ùå <strong>Sin Consilium:</strong> La AI comienza inmediatamente a escribir c√≥digo ‚Üí puede tomar la
                    direcci√≥n incorrecta</li>
                <li>‚úÖ <strong>Con Consilium:</strong> discusi√≥n de enfoques primero ‚Üí elegir el mejor ‚Üí c√≥digo</li>
            </ul>

            <h3>Miembros del Comit√©</h3>

            <table>
                <thead>
                    <tr>
                        <th>Rol</th>
                        <th>Funci√≥n</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Innovator</strong> (Innovador)</td>
                        <td>Propone diferentes enfoques para resolver la tarea</td>
                    </tr>
                    <tr>
                        <td><strong>Realist</strong> (Realista)</td>
                        <td>Eval√∫a riesgos, viabilidad, complejidad de implementaci√≥n</td>
                    </tr>
                    <tr>
                        <td><strong>Facilitator</strong> (Facilitador)</td>
                        <td>Controla el enfoque de la discusi√≥n, resume conclusiones</td>
                    </tr>
                </tbody>
            </table>
            <h3>Workflow</h3>

            <pre><code>
graph TD
    A[Task starts] --&gt; B{High-risk?}
    B --&gt;|Yes| C[Consilium Session]
    B --&gt;|No| D[Direct to Spec]
    
    C --&gt; E[Innovator proposes approaches]
    E --&gt; F[Realist evaluates risks]
    F --&gt; G[Facilitator decides]
    
    G --&gt; H{Decision}
    H --&gt;|Go| I[Spec ‚Üí Plan ‚Üí Code]
    H --&gt;|Hold| J[Request more info]
    H --&gt;|Revise| K[Refine approach]
    H --&gt;|Kill| L[Reject task]
</code></pre>

            <h3>Resultados Consilium</h3>

            <table>
                <thead>
                    <tr>
                        <th>Decisi√≥n</th>
                        <th>Acci√≥n</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Go</strong></td>
                        <td>Proceder a Spec/Planning con el enfoque elegido</td>
                    </tr>
                    <tr>
                        <td><strong>Hold</strong></td>
                        <td>Tarea en pausa ‚Äî necesita m√°s datos</td>
                    </tr>
                    <tr>
                        <td><strong>Revise</strong></td>
                        <td>El enfoque necesita refinamiento (nueva iteraci√≥n)</td>
                    </tr>
                    <tr>
                        <td><strong>Kill</strong></td>
                        <td>Tarea rechazada (demasiado arriesgada o inoportuna)</td>
                    </tr>
                </tbody>
            </table>
            <h3>¬øCu√°ndo usar?</h3>

            <ul>
                <li>Cambios arquitect√≥nicos (nuevos m√≥dulos, refactoring)</li>
                <li>Migraciones (base de datos, API)</li>
                <li>Breaking changes (API p√∫blica)</li>
                <li>Elecci√≥n de tecnolog√≠as (bibliotecas, frameworks)</li>
            </ul>

            <h3>Configuraci√≥n</h3>

            <ul>
                <li>Settings ‚Üí Consilium ‚Üí Enable for high-risk tasks</li>
                <li>Casilla "Require Consilium approval" por tarea</li>
            </ul>

            <blockquote>[!NOTE]</blockquote>
            <blockquote>Consilium est√° implementado en `apps/backend/consilium/` e integrado en el ciclo de vida de las
                tareas mediante IPC handlers.</blockquote>

            <p>---</p>

            <h2>6. Model Routing</h2>

            <h3>¬øQu√© es?</h3>

            <p><strong>Model Routing</strong> ‚Äî un sistema de selecci√≥n de <strong>diferentes modelos AI</strong> para
                diferentes <strong>fases</strong> de desarrollo y <strong>niveles</strong> de configuraci√≥n.</p>

            <h3>¬øPor qu√©?</h3>

            <p>Diferentes tareas requieren diferentes modelos:</p>
            <ul>
                <li><strong>Spec/Planning</strong> ‚Üí modelo con buen razonamiento (Claude Opus, GPT-4)</li>
                <li><strong>Coding</strong> ‚Üí modelo r√°pido con gran contexto (Claude Sonnet, Gemini)</li>
                <li><strong>QA</strong> ‚Üí modelo enfocado en an√°lisis (GPT-4, Claude)</li>
            </ul>

            <h3>3 Niveles de Configuraci√≥n</h3>

            <pre><code>
graph TD
    A[App-level config&lt;br/&gt;Defaults for all projects] --&gt; B{Project selected?}
    B --&gt;|No| A
    B --&gt;|Yes| C[Project-level config&lt;br/&gt;Override for specific project]
    C --&gt; D{Task created?}
    D --&gt;|No| C
    D --&gt;|Yes| E[Task-level config&lt;br/&gt;Override for specific task]
</code></pre>

            <p><strong>Prioridad:</strong> Task-level &gt; Project-level &gt; App-level</p>

            <h4>1. App-level (Valores predeterminados globales)</h4>

            <p>Ubicaci√≥n: Settings ‚Üí Model Routing (global)</p>

            <pre><code>
{
  "spec": {
    "profile": "openrouter",
    "model": "anthropic/claude-3-opus-20240229"
  },
  "planning": {
    "profile": "openrouter",
    "model": "anthropic/claude-3-5-sonnet-20241022"
  },
  "coding": {
    "profile": "groq",
    "model": "llama-3.3-70b-versatile"
  },
  "qa": {
    "profile": "openrouter",
    "model": "anthropic/claude-3-5-sonnet-20241022"
  }
}
</code></pre>

            <h4>2. Project-level (Reemplazos por proyecto)</h4>

            <p>Ubicaci√≥n: `.auto-iflow/project_index.json`</p>

            <pre><code>
{
  "project_id": "auto-iflow-main",
  "modelRouting": {
    "coding": {
      "profile": "glm",
      "model": "glm-4-flash"
    }
  }
}
</code></pre>

            <h4>3. Task-level (Reemplazos por tarea)</h4>

            <p>Ubicaci√≥n: `.auto-iflow/specs/&lt;task-id&gt;/task_metadata.json`</p>

            <pre><code>
{
  "task_id": "task-123",
  "modelRouting": {
    "spec": {
      "profile": "openrouter",
      "model": "openai/gpt-4-turbo"
    }
  }
}
</code></pre>

            <h3>4 Fases de Ejecuci√≥n</h3>

            <table>
                <thead>
                    <tr>
                        <th>Fase</th>
                        <th>Prop√≥sito</th>
                        <th>Recomendaci√≥n</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Spec</strong></td>
                        <td>Creaci√≥n de especificaci√≥n</td>
                        <td>Claude Opus (comprensi√≥n profunda)</td>
                    </tr>
                    <tr>
                        <td><strong>Planning</strong></td>
                        <td>Planificaci√≥n de implementaci√≥n</td>
                        <td>Claude Sonnet (equilibrio velocidad/calidad)</td>
                    </tr>
                    <tr>
                        <td><strong>Coding</strong></td>
                        <td>Escritura de c√≥digo</td>
                        <td>Groq Llama 3.3 70B (velocidad) o GLM-4-Flash</td>
                    </tr>
                    <tr>
                        <td><strong>QA</strong></td>
                        <td>Verificaci√≥n de calidad</td>
                        <td>Claude Sonnet (an√°lisis de c√≥digo)</td>
                    </tr>
                </tbody>
            </table>
            <h3>Perfiles API</h3>

            <p>Ubicaci√≥n: Settings ‚Üí Integrations</p>

            <table>
                <thead>
                    <tr>
                        <th>Perfil</th>
                        <th>Proveedor</th>
                        <th>Modelos</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>openrouter</strong></td>
                        <td>OpenRouter</td>
                        <td>Claude, GPT-4, Gemini, etc.</td>
                    </tr>
                    <tr>
                        <td><strong>groq</strong></td>
                        <td>Groq</td>
                        <td>Llama 3.1/3.3, Mixtral</td>
                    </tr>
                    <tr>
                        <td><strong>glm</strong></td>
                        <td>GLM (Zhipu AI)</td>
                        <td>GLM-4-Flash, GLM-4-Plus</td>
                    </tr>
                    <tr>
                        <td><strong>custom</strong></td>
                        <td>Endpoint personalizado</td>
                        <td>Cualquier API compatible OpenAI</td>
                    </tr>
                </tbody>
            </table>
            <h3>Configuraci√≥n de Costos</h3>

            <p>Cada perfil tiene configuraci√≥n de <strong>l√≠mites de costos</strong>:</p>

            <pre><code>
{
  "profile": "openrouter",
  "costLimits": {
    "perTask": 0.50,      // m√°x $0.50 por tarea
    "perPhase": {
      "spec": 0.10,
      "planning": 0.10,
      "coding": 0.20,
      "qa": 0.10
    }
  }
}
</code></pre>

            <blockquote>[!TIP]</blockquote>
            <blockquote><strong>Best practice:</strong> Use modelos r√°pidos/econ√≥micos (Groq, GLM) para Coding,
                caros/inteligentes (Claude Opus) para Spec/Planning.</blockquote>

            <p>---</p>

            <h2>7. QA Pipeline</h2>

            <h3>¬øQu√© es?</h3>

            <p><strong>QA Pipeline</strong> ‚Äî verificaci√≥n autom√°tica del c√≥digo despu√©s de la fase Coding, antes de
                Review.</p>

            <h3>Arquitectura</h3>

            <pre><code>
graph LR
    A[Code Complete] --&gt; B[QA Python Backend]
    B --&gt; C[Code Quality]
    B --&gt; D[Test Generation]
    B --&gt; E[Security Scan]
    B --&gt; F[Performance Check]
    
    C --&gt; G{Pass?}
    D --&gt; G
    E --&gt; G
    F --&gt; G
    
    G --&gt;|Yes| H[Generate qa_report.md]
    G --&gt;|No| I[Block merge]
    
    H --&gt; J[In-Review]
</code></pre>

            <h3>Componentes QA</h3>

            <p>Ubicaci√≥n: `/Users/kostenchuksergey/Auto-iFlow/apps/backend/qa/`</p>

            <table>
                <thead>
                    <tr>
                        <th>Archivo</th>
                        <th>Funci√≥n</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>`criteria.py`</td>
                        <td>Definici√≥n de criterios de calidad</td>
                    </tr>
                    <tr>
                        <td>`loop.py`</td>
                        <td>Bucle principal de verificaci√≥n QA</td>
                    </tr>
                    <tr>
                        <td>`test_graphiti.py`</td>
                        <td>Tests para integraci√≥n Graphiti</td>
                    </tr>
                </tbody>
            </table>
            <h3>Verificaciones Autom√°ticas</h3>

            <h4>1. An√°lisis de Calidad del C√≥digo</h4>
            <ul>
                <li>Linting (eslint, prettier)</li>
                <li>M√©tricas de complejidad</li>
                <li>Detecci√≥n de code smells</li>
            </ul>

            <h4>2. Generaci√≥n de Tests</h4>
            <ul>
                <li>Generaci√≥n de tests unitarios para nuevas funciones</li>
                <li>An√°lisis de cobertura</li>
            </ul>

            <h4>3. Escaneo de Seguridad</h4>
            <ul>
                <li>B√∫squeda de vulnerabilidades (SQL injection, XSS)</li>
                <li>Detecci√≥n de secretos (contrase√±as hardcoded, claves API)</li>
            </ul>

            <h4>4. Verificaci√≥n de Rendimiento</h4>
            <ul>
                <li>Optimizaci√≥n de consultas</li>
                <li>Detecci√≥n de fugas de memoria</li>
            </ul>

            <h3>Human Review Gate</h3>

            <p>Para <strong>tareas cr√≠ticas</strong> (breaking changes, seguridad) QA puede requerir <strong>Human
                    Review</strong> antes de fusi√≥n:</p>

            <pre><code>
{
  "qa": {
    "requireHumanReview": true,
    "criticalChecks": ["security", "breaking-changes"]
  }
}
</code></pre>

            <h3>Reporte QA</h3>

            <p>Resultado: `.auto-iflow/specs/&lt;task-id&gt;/qa_report.md`</p>

            <p>Ejemplo de estructura:</p>

            <pre><code>
# QA Report ‚Äî Task-123

## ‚úÖ Passed Checks
- Code Quality: 85/100
- Tests: 12 generated, 12 passed
- Security: No issues found

## ‚ö†Ô∏è Warnings
- Function `calculateTotal()` has high complexity (12)
- Missing tests for edge case: empty array

## üõ†Ô∏è Recommendations
1. Refactor `calculateTotal()` into smaller functions
2. Add test case for empty input

## üöÄ Approval Status
**APPROVED** ‚Äî Safe to merge
</code></pre>

            <h3>Men√∫ Fix (Stage 22)</h3>

            <p>Si QA encuentra problemas, la UI muestra <strong>Fix Menu</strong> con acciones:</p>

            <table>
                <thead>
                    <tr>
                        <th>Problema</th>
                        <th>Acci√≥n Fix</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Cambios no confirmados</td>
                        <td>Auto-commit `.gitignore`</td>
                    </tr>
                    <tr>
                        <td>Tests fallidos</td>
                        <td>Mostrar salida de tests, sugerir correcciones</td>
                    </tr>
                    <tr>
                        <td>Problema de seguridad</td>
                        <td>Bloquear fusi√≥n, mostrar detalles</td>
                    </tr>
                    <tr>
                        <td>Conflictos rebase</td>
                        <td>Ofrecer resoluci√≥n manual en IDE</td>
                    </tr>
                </tbody>
            </table>
            <blockquote>[!IMPORTANT]</blockquote>
            <blockquote><strong>Stage 24:</strong> Despu√©s de aprobaci√≥n QA, el plan debe sincronizarse al estado
                `human_review/review` para que la tarea no quede atascada en `in_progress` (UI muestra "Stuck").
            </blockquote>

            <p>---</p>

            <h2>8. Security Model</h2>

            <h3>Principios de Seguridad</h3>

            <p>Auto-iFlow ejecuta <strong>c√≥digo AI-generado arbitrary</strong> en tu m√°quina. Para protecci√≥n:</p>

            <pre><code>
graph TB
    A[AI Generated Code] --&gt; B[Layer 1: OS Sandbox]
    B --&gt; C[Layer 2: Filesystem Restrictions]
    C --&gt; D[Layer 3: Dynamic Command Allowlist]
    D --&gt; E[Safe Execution]
</code></pre>

            <h3>Layer 1: OS Sandbox (aislamiento bash)</h3>

            <p>Todo el c√≥digo se ejecuta en una <strong>sesi√≥n bash restringida</strong>:</p>
            <ul>
                <li>Sin acceso al directorio home (`~`)</li>
                <li>Sin operaciones de red (excepto git)</li>
                <li>Privilegios limitados (sin sudo)</li>
            </ul>

            <p>Ubicaci√≥n: `apps/frontend/src/main/pty-daemon.ts`</p>

            <h3>Layer 2: Restricciones de Sistema de Archivos</h3>

            <p>La AI solo puede trabajar <strong>dentro del directorio del proyecto</strong>:</p>

            <pre><code>
# ‚úÖ Permitido
/Users/username/Auto-iFlow/src/...
/Users/username/Auto-iFlow/.auto-iflow/...

# ‚ùå Prohibido
/Users/username/Documents/...
/etc/...
/var/...
</code></pre>

            <p>Verificaci√≥n en `apps/frontend/src/main/ipc-handlers/task/worktree-handlers.ts`</p>

            <h3>Layer 3: Lista Blanca de Comandos Din√°micos</h3>

            <p>Solo <strong>lista blanca de comandos</strong>:</p>

            <pre><code>
const ALLOWED_COMMANDS = [
  'git',
  'npm',
  'yarn',
  'node',
  'python',
  'python3',
  // code editors
  'code',
  'vim',
  'nano'
];
</code></pre>

            <p><strong>Prohibido:</strong></p>
            <ul>
                <li>`rm -rf /` (eliminaci√≥n de archivos fuera del proyecto)</li>
                <li>`sudo` (elevaci√≥n de privilegios)</li>
                <table>
                    <thead>
                        <tr>
                            <th>- `curl</th>
                            <th>sh` (ejecuci√≥n de scripts remotos)</th>
                        </tr>
                    </thead>
                </table>
            </ul>
            <h3>Garant√≠as de Seguridad</h3>

            <blockquote>[!CAUTION]</blockquote>
            <blockquote><strong>La seguridad no es 100%</strong> ‚Äî La AI puede encontrar formas de evitar las
                restricciones.</blockquote>
            <blockquote></blockquote>
            <blockquote><strong>Mejores pr√°cticas:</strong></blockquote>
            <blockquote>- ‚úÖ Siempre verificar `qa_report.md` antes de fusi√≥n</blockquote>
            <blockquote>- ‚úÖ Usar Sandbox para tareas cr√≠ticas</blockquote>
            <blockquote>- ‚úÖ No ejecutar Auto-iFlow como root/admin</blockquote>
            <blockquote>- ‚úÖ Verificar regularmente los logs: Settings ‚Üí Logs</blockquote>

            <p>---</p>

            <h2>9. Estructura de Archivos</h2>

            <h3>Proyecto Auto-iFlow</h3>

            <pre><code>
/Users/kostenchuksergey/Auto-iFlow/
‚îú‚îÄ‚îÄ apps/
‚îÇ   ‚îú‚îÄ‚îÄ frontend/              # Electron app (Main + Renderer)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ src/main/          # Node.js backend
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ src/renderer/      # React UI
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ src/preload/       # IPC bridge
‚îÇ   ‚îî‚îÄ‚îÄ backend/               # Python services
‚îÇ       ‚îú‚îÄ‚îÄ qa/                # QA Pipeline
‚îÇ       ‚îî‚îÄ‚îÄ consilium/         # Consilium AI Committee
‚îú‚îÄ‚îÄ .auto-iflow/               # Metadatos proyecto
‚îÇ   ‚îú‚îÄ‚îÄ project_index.json     # Configuraci√≥n proyecto
‚îÇ   ‚îú‚îÄ‚îÄ specs/                 # Artefactos tareas
‚îÇ   ‚îú‚îÄ‚îÄ roadmap/               # Roadmap.json
‚îÇ   ‚îî‚îÄ‚îÄ worktrees/tasks/       # Sandbox worktrees
‚îî‚îÄ‚îÄ package.json
</code></pre>

            <h3>Artefactos de Tarea</h3>

            <pre><code>
.auto-iflow/specs/&lt;task-id&gt;/
‚îú‚îÄ‚îÄ spec.md                    # Especificaci√≥n
‚îú‚îÄ‚îÄ requirements.json          # Requisitos (estructurados)
‚îú‚îÄ‚îÄ implementation_plan.json   # Plan de implementaci√≥n
‚îú‚îÄ‚îÄ task_metadata.json         # Metadatos (estado, modelos)
‚îî‚îÄ‚îÄ qa_report.md              # Reporte QA
</code></pre>

            <h3>Archivos de Configuraci√≥n</h3>

            <table>
                <thead>
                    <tr>
                        <th>Archivo</th>
                        <th>Prop√≥sito</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>`.auto-iflow/project_index.json`</td>
                        <td>Configuraci√≥n proyecto (Model Routing, Sandbox, Consilium)</td>
                    </tr>
                    <tr>
                        <td>`~/.auto-iflow/graphs/`</td>
                        <td>Base de datos Graphiti (memoria AI largo plazo)</td>
                    </tr>
                    <tr>
                        <td>`~/.auto-iflow/profiles.json`</td>
                        <td>Perfiles de agentes (Custom, Default, etc.)</td>
                    </tr>
                </tbody>
            </table>
            <p>---</p>

            <h2>10. Escenarios Pr√°cticos</h2>

            <h3>Escenario 1: Correcci√≥n R√°pida de Bug</h3>

            <p><strong>Tiempo:</strong> 15 minutos</p>

            <p><strong>Pasos:</strong></p>

            <ul>
                <li><strong>Crear Tarea</strong></li>
                <li>Kanban ‚Üí New Task</li>
                <li>Descripci√≥n: "Users report 500 error when submitting form with empty email"</li>
                <li>Adjuntar captura de pantalla (si disponible)</li>
                <li>‚úÖ Enable Sandbox</li>
            </ul>

            <ul>
                <li><strong>AI Spec ‚Üí Plan ‚Üí Code</strong></li>
                <li>La AI analiza ‚Üí crea `spec.md`</li>
                <li>La AI planifica ‚Üí `implementation_plan.json`</li>
                <li>La AI escribe c√≥digo en Sandbox worktree</li>
            </ul>

            <ul>
                <li><strong>Auto QA</strong></li>
                <li>Generaci√≥n de tests para validaci√≥n email</li>
                <li>Verificaci√≥n seguridad (validaci√≥n entrada)</li>
                <li>Aprobaci√≥n QA ‚Üí `qa_report.md`</li>
            </ul>

            <ul>
                <li><strong>Human Review</strong></li>
                <li>Files ‚Üí verificar `spec.md`, `implementation_plan.json`</li>
                <li>Merge Preview ‚Üí verificar diff</li>
                <li>‚úÖ Approve & Merge</li>
            </ul>

            <ul>
                <li><strong>Done</strong></li>
                <li>C√≥digo en main</li>
                <li>Sandbox eliminado</li>
                <li>Verificar correcci√≥n manualmente</li>
            </ul>

            <p><strong>Resultado:</strong> ‚úÖ Bug corregido en 15 min en lugar de 2 horas</p>

            <p>---</p>

            <h3>Escenario 2: Desarrollo de Funcionalidad</h3>

            <p><strong>Tiempo:</strong> 30-40 minutos</p>

            <p><strong>Pasos:</strong></p>

            <ul>
                <li><strong>Importar desde GitHub</strong></li>
                <li>Settings ‚Üí Integrations ‚Üí GitHub ‚Üí Import Issue #42</li>
                <li>Auto-iFlow crea la tarea con contexto completo</li>
            </ul>

            <ul>
                <li><strong>Consilium Assessment</strong> (si complejo)</li>
                <li>Casilla "Require Consilium"</li>
                <li>3 agentes AI discuten enfoques</li>
                <li>Elegir el mejor ‚Üí Go</li>
            </ul>

            <ul>
                <li><strong>Spec + Planning</strong></li>
                <li>La AI crea especificaci√≥n detallada</li>
                <li>Plan con cambios de archivos</li>
            </ul>

            <ul>
                <li><strong>Sandbox Development</strong></li>
                <li>La AI escribe c√≥digo en worktree aislado</li>
                <li>Auto QA ‚Üí tests, seguridad, rendimiento</li>
            </ul>

            <ul>
                <li><strong>Review ‚Üí Merge</strong></li>
                <li>Revisi√≥n humana de artefactos</li>
                <li>Fusi√≥n a main</li>
                <li>Notas de versi√≥n GitHub (auto-generadas)</li>
            </ul>

            <p><strong>Resultado:</strong> ‚úÖ Ciclo completo en 30-40 min</p>

            <p>---</p>

            <h3>Escenario 3: Desarrollo Dirigido por Roadmap</h3>

            <p><strong>Tiempo:</strong> 1 hora para roadmap completo</p>

            <p><strong>Pasos:</strong></p>

            <ul>
                <li><strong>Generar Roadmap Discovery</strong></li>
                <li>Roadmap ‚Üí Generate Discovery</li>
                <li>La AI analiza todo el proyecto (c√≥digo, issues, docs)</li>
                <li>Crea `roadmap_discovery.json`</li>
            </ul>

            <ul>
                <li><strong>Generar Funcionalidades</strong></li>
                <li>La AI sugiere funcionalidades basadas en Discovery</li>
                <li>Crea `roadmap.json` con prioridades</li>
            </ul>

            <ul>
                <li><strong>Convertir a Tareas</strong></li>
                <li>Seleccionar funcionalidades ‚Üí Convert to Tasks</li>
                <li>Las tareas aparecen en Kanban ‚Üí Planning</li>
            </ul>

            <ul>
                <li><strong>Ejecutar Tareas</strong></li>
                <li>Cada tarea pasa por el ciclo completo (Spec ‚Üí Code ‚Üí QA ‚Üí Review)</li>
            </ul>

            <p><strong>Resultado:</strong> ‚úÖ Planificaci√≥n estrat√©gica automatizada</p>

            <p>---</p>

            <h2>11. An√°lisis de la Interfaz</h2>

            <h3>Panel de Navegaci√≥n Izquierdo</h3>

            <table>
                <thead>
                    <tr>
                        <th>Secci√≥n</th>
                        <th>Prop√≥sito</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Control Board</strong></td>
                        <td>Tablero Kanban principal (Planning, In-Progress, Review, Done)</td>
                    </tr>
                    <tr>
                        <td><strong>Agent Timelines</strong></td>
                        <td>Historial de acciones de agentes AI por tarea</td>
                    </tr>
                    <tr>
                        <td><strong>Consilium</strong></td>
                        <td>Lanzar AI Investment Committee para tarea actual</td>
                    </tr>
                    <tr>
                        <td><strong>Insights</strong></td>
                        <td>Anal√≠ticas proyecto (cuellos de botella, productividad)</td>
                    </tr>
                    <tr>
                        <td><strong>Roadmaps</strong></td>
                        <td>Generar y gestionar roadmap.json</td>
                    </tr>
                    <tr>
                        <td><strong>Random</strong></td>
                        <td>Tarea aleatoria (para inspiraci√≥n)</td>
                    </tr>
                    <tr>
                        <td><strong>Changelog</strong></td>
                        <td>Historial de cambios proyecto</td>
                    </tr>
                    <tr>
                        <td><strong>Connect</strong></td>
                        <td>Integraciones (GitHub, Linear, Jira)</td>
                    </tr>
                    <tr>
                        <td><strong>MCP Overview</strong></td>
                        <td>Configurar servidores MCP (Context7, Browser)</td>
                    </tr>
                    <tr>
                        <td><strong>Workflows</strong></td>
                        <td>Workflows personalizados (automatizaci√≥n custom)</td>
                    </tr>
                    <tr>
                        <td><strong>Team</strong></td>
                        <td>Gesti√≥n de accesos (funcionalidad futura)</td>
                    </tr>
                </tbody>
            </table>
            <h3>Columnas Kanban (desde captura de pantalla)</h3>

            <pre><code>
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Planning   ‚îÇ In-Progress  ‚îÇ In-Review ‚îÇ Proj Review‚îÇ Failed ‚îÇ Done ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ No tasks    ‚îÇ Waiting      ‚îÇ Waiting   ‚îÇ No failed  ‚îÇ   -    ‚îÇ  -   ‚îÇ
‚îÇ planned     ‚îÇ to design    ‚îÇ to design ‚îÇ tasks      ‚îÇ        ‚îÇ      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
</code></pre>

            <h3>Panel de Detalles de Tarea (lado derecho)</h3>

            <p>Cuando seleccionas una tarea:</p>

            <p><strong>Pesta√±as:</strong></p>
            <ul>
                <li><strong>Overview</strong> ‚Äî descripci√≥n, estado, progreso</li>
                <li><strong>Files</strong> ‚Äî artefactos (spec, plan, qa_report)</li>
                <li><strong>Merge Preview</strong> ‚Äî diff de cambios (si Sandbox)</li>
                <li><strong>Logs</strong> ‚Äî logs de ejecuci√≥n del agente AI</li>
                <li><strong>Timeline</strong> ‚Äî cronolog√≠a de acciones</li>
            </ul>

            <p><strong>Acciones:</strong></p>
            <ul>
                <li>‚ñ∂Ô∏è Start / ‚è∏Ô∏è Pause / ‚èπÔ∏è Stop</li>
                <li>üîÅ Request Changes</li>
                <li>‚úÖ Approve & Merge</li>
                <li>‚ùå Reject</li>
            </ul>

            <p>---</p>

            <h2>üéì Pr√≥ximos Pasos para el Aprendizaje</h2>

            <p>Ahora que comprendes la arquitectura general, recomiendo <strong>estudiar en detalle</strong>:</p>

            <h3>1. Estudiar el C√≥digo Fuente por Bloques</h3>

            <ul>
                <li>[ ] <strong>Task lifecycle:</strong> `apps/frontend/src/main/task-manager.ts`</li>
                <li>[ ] <strong>Sandbox worktrees:</strong>
                    `apps/frontend/src/main/ipc-handlers/task/worktree-handlers.ts`</li>
                <li>[ ] <strong>QA Pipeline:</strong> `apps/backend/qa/loop.py`, `criteria.py`</li>
                <li>[ ] <strong>Model Routing:</strong> `apps/frontend/src/main/ipc-handlers/settings/model-routing.ts`
                </li>
                <li>[ ] <strong>Consilium:</strong> `apps/backend/consilium/` (si implementado)</li>
            </ul>

            <h3>2. Lanzar el Proyecto y Experimentar</h3>

            <pre><code>
cd /Users/kostenchuksergey/Auto-iFlow
npm run dev   # Modo desarrollador con hot reload
</code></pre>

            <p><strong>Probar:</strong></p>
            <ul>
                <li>Crear una tarea simple (sin Sandbox)</li>
                <li>Crear una tarea con Sandbox y ver el worktree</li>
                <li>Ver artefactos en `.auto-iflow/specs/`</li>
                <li>Estudiar `qa_report.md` despu√©s de QA</li>
            </ul>

            <h3>3. Estudiar la Configuraci√≥n del Proyecto</h3>

            <ul>
                <li>[ ] `.auto-iflow/project_index.json` ‚Äî configuraci√≥n proyecto</li>
                <li>[ ] Roadmap ‚Üí Generate Discovery ‚Äî ver c√≥mo la AI analiza el proyecto</li>
                <li>[ ] Settings ‚Üí Model Routing ‚Äî configurar tus modelos para cada fase</li>
            </ul>

            <h3>4. Revisar las Tareas Actuales (TASKS.md)</h3>

            <ul>
                <li>[ ] Stage 20: Sandbox adjustments (ya hecho en 20.1-20.4)</li>
                <li>[ ] Stage 21: Splash screen skip</li>
                <li>[ ] Stage 22: Sandbox merge cleanup + Fix actions</li>
                <li>[ ] Stage 23: Auto-commit after merge</li>
                <li>[ ] Stage 24: QA approval sync</li>
            </ul>

            <p>---</p>

            <h2>üìö Recursos Adicionales</h2>

            <ul>
                <li><a
                        href="file:///Users/kostenchuksergey/Library/CloudStorage/OneDrive-–õ–∏—á–Ω–∞—è/AUTO-IFLOW/NEW-PLANS/CONTEXT.md">CONTEXT.md</a>
                    ‚Äî historial proyecto, problemas conocidos</li>
                <li><a
                        href="file:///Users/kostenchuksergey/Library/CloudStorage/OneDrive-–õ–∏—á–Ω–∞—è/AUTO-IFLOW/NEW-PLANS/TASKS.md">TASKS.md</a>
                    ‚Äî tareas actuales (Stages 16-24)</li>
                <li><a
                        href="file:///Users/kostenchuksergey/Library/CloudStorage/OneDrive-–õ–∏—á–Ω–∞—è/AUTO-IFLOW/NEW-PLANS/NEW-CONCIL.md">NEW-CONCIL.md</a>
                    ‚Äî descripci√≥n detallada Consilium</li>
                <li><a
                        href="file:///Users/kostenchuksergey/Library/CloudStorage/OneDrive-–õ–∏—á–Ω–∞—è/AUTO-IFLOW/NEW-PLANS/BUILD-CREDENTIALS.md">BUILD-CREDENTIALS.md</a>
                    ‚Äî build y credentials</li>
            </ul>

            <p>---</p>

            <h2>‚ùì Preguntas de Autoevaluaci√≥n</h2>

            <p>Intenta responder estas preguntas para verificar la comprensi√≥n:</p>

            <ul>
                <li><strong>Arquitectura:</strong> ¬øCu√°les son los dos procesos principales en Auto-iFlow y de qu√© son
                    responsables?</li>
                <li><strong>Kanban:</strong> ¬øQu√© fases atraviesa una tarea desde la creaci√≥n hasta Done?</li>
                <li><strong>Sandbox:</strong> ¬øPor qu√© es necesario Git worktree y cu√°ndo usarlo?</li>
                <li><strong>Consilium:</strong> ¬øQu√© roles componen el AI Investment Committee?</li>
                <li><strong>Model Routing:</strong> ¬øCu√°l es la diferencia entre configuraci√≥n App-level, Project-level,
                    Task-level?</li>
                <li><strong>QA Pipeline:</strong> ¬øQu√© verificaciones autom√°ticas se ejecutan antes de Review?</li>
                <li><strong>Security:</strong> ¬øCu√°les son las 3 capas de protecci√≥n en Auto-iFlow?</li>
            </ul>

            <p>---</p>

            <p><strong>¬øListo para la pr√°ctica?</strong> ¬°Creemos una tarea de prueba y recorramos el ciclo completo
                juntos! üöÄ</p>
        </div>
    </div>
</body>

</html>